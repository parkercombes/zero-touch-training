<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                   xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                   xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                   xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns:ext="http://www.omg.org/spec/BPMN/non-normative/extensions"
                   id="Purchase_to_Pay_Process_GlobalMart"
                   targetNamespace="http://www.globalmart.com/bpmn/purchase-to-pay"
                   exporter="Signavio Process Editor"
                   exporterVersion="13.1.0">

  <bpmn:documentation>
    <bpmn:text>Purchase Requisition to Goods Receipt Process for GlobalMart Southeast Distribution Center (SE-DC)

This process models the procurement workflow from initial requirement identification through goods receipt posting for perishable goods at the Southeast Distribution Center in Atlanta, GA.
Includes SE-DC-specific constraints for SAP S/4HANA 2023:
- Material SKU, quantity in cases, delivery date within 7-day perishable window
- Purchasing group restricted to R-SE or R-NAT (SE-DC constraint)
- Mandatory lot/batch tracking for perishables (SE-DC requirement)
- Temperature zone assignment (Zone-F/Zone-R/Zone-A)
- 3-tier approval for amounts exceeding $25,000 (perishables threshold, lower than enterprise $50K)
- Mandatory quality inspection for perishables and private-label items
- Cold chain verification at receiving dock
- Material document verification at receipt
    </bpmn:text>
  </bpmn:documentation>

  <bpmn:process id="Process_Purchase_to_Pay_GlobalMart" name="Purchase Requisition to Goods Receipt" isExecutable="true">

    <!-- Start Event -->
    <bpmn:startEvent id="StartEvent_Need_Identified" name="Inventory Need Identified">
      <bpmn:documentation>
        <bpmn:text>Process initiates when store manager or department head identifies inventory replenishment need for perishable or high-velocity items</bpmn:text>
      </bpmn:documentation>
      <bpmn:outgoing>SequenceFlow_001</bpmn:outgoing>
    </bpmn:startEvent>

    <!-- Task: Create Purchase Requisition (Store/Department Requestor) -->
    <bpmn:task id="Task_Create_PR" name="Create Purchase Requisition (ME51N)">
      <bpmn:documentation>
        <bpmn:text>Store/Department Requestor creates PR in SAP S/4HANA with:
        - Material (SKU), quantity in cases, delivery date within 7-day perishable window
        - Plant: SE-DC, Storage location, cost center
        - Temperature zone assignment (Zone-F/Zone-R/Zone-A)
        - MANDATORY: Lot/batch tracking for perishables (SE-DC requirement, enterprise default optional)
        - MANDATORY: Purchasing group limited to R-SE or R-NAT (SE-DC constraint)
        - System auto-calculates PR total for routing
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_001</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_002</bpmn:outgoing>
    </bpmn:task>

    <!-- Exclusive Gateway: PR Amount Decision -->
    <bpmn:exclusiveGateway id="Gateway_PR_Amount" name="PR Amount &gt; $25K?" default="SequenceFlow_ApprovalStandard">
      <bpmn:documentation>
        <bpmn:text>SE-DC decision point for approval routing (perishables threshold: $25,000)
        - Amounts ≤ $25K: Standard 2-tier approval (Category Manager + Procurement Lead)
        - Amounts &gt; $25K: 3-tier approval including VP Supply Chain (more restrictive than enterprise $50K for perishables)
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_002</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_ApprovalStandard</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_ApprovalThreeTier</bpmn:outgoing>
    </bpmn:exclusiveGateway>

    <!-- Task: Standard Approval (≤ $25K) -->
    <bpmn:task id="Task_Standard_Approval" name="Standard Approval (≤ $25K)">
      <bpmn:documentation>
        <bpmn:text>Two-tier approval path for PR amounts not exceeding $25,000:
        1. Category Manager review and approval
        2. Procurement Lead verification
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_ApprovalStandard</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_003</bpmn:outgoing>
    </bpmn:task>

    <!-- Task: Three-Tier Approval (&gt; $25K, SE-DC Perishables Policy) -->
    <bpmn:task id="Task_ThreeTier_Approval" name="Three-Tier Approval (&gt; $25K) - SE-DC Perishables Policy">
      <bpmn:documentation>
        <bpmn:text>SE-DC-specific three-tier approval for amounts exceeding $25,000:
        1. Category Manager review and initial approval
        2. Buyer (Procurement) technical review and negotiation authority confirmation
        3. VP Supply Chain final approval

This stricter approval is driven by perishable goods spoilage risk and cold chain compliance requirements specific to the SE-DC operation.
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_ApprovalThreeTier</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_004</bpmn:outgoing>
    </bpmn:task>

    <!-- Parallel Gateway to merge approval paths -->
    <bpmn:parallelGateway id="Gateway_MergeApprovals" name="Approvals Merged">
      <bpmn:incoming>SequenceFlow_003</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_004</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_005</bpmn:outgoing>
    </bpmn:parallelGateway>

    <!-- Task: Convert PR to Purchase Order (Buyer) -->
    <bpmn:task id="Task_Convert_PO" name="Convert PR to Purchase Order (ME21N)">
      <bpmn:documentation>
        <bpmn:text>GlobalMart Buyer (Purchasing Group R-SE or R-NAT) converts approved PR to PO:
        - Negotiates terms with supplier
        - Verifies regional supplier program compliance
        - Finalizes delivery schedule within 7-day perishable window
        - Ensures temperature zone and lot tracking requirements carry through
        - Creates PO document referenced in goods receipt process
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_005</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_006</bpmn:outgoing>
    </bpmn:task>

    <!-- Task: Send PO to Supplier (Buyer) -->
    <bpmn:task id="Task_Send_PO" name="Send Purchase Order to Supplier">
      <bpmn:documentation>
        <bpmn:text>Transmit PO to supplier via:
        - EDI/XML for major regional suppliers
        - Email for routine suppliers
        - Supplier portal for integrated partners
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_006</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_007</bpmn:outgoing>
    </bpmn:task>

    <!-- Intermediate Event: Goods Delivered -->
    <bpmn:intermediateThrowEvent id="IntermediateEvent_Goods_Delivered" name="Goods Delivered to SE-DC">
      <bpmn:documentation>
        <bpmn:text>Goods physically received at Southeast Distribution Center receiving dock in Atlanta.
        Receiving Clerk notified and initiates goods receipt process.
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_007</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_008</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>

    <!-- Task: Post Goods Receipt (Receiving Clerk) -->
    <bpmn:task id="Task_Post_GR" name="Post Goods Receipt (MIGO - Movement Type 101)">
      <bpmn:documentation>
        <bpmn:text>SE-DC Receiving Clerk posts goods receipt in SAP S/4HANA:
        - References PO number
        - Verifies quantities match PO (in cases)
        - Assigns temperature zone (Zone-F/Zone-R/Zone-A, MUST match product category)
        - Conducts cold chain verification (temperature check at receiving dock)
        - Flags for mandatory quality inspection if perishable or private-label
        - Records lot/batch numbers for perishable tracking (SE-DC requirement)
        - Generates material document number
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_008</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_009</bpmn:outgoing>
    </bpmn:task>

    <!-- Task: Verify Stock Update (Receiving Clerk) -->
    <bpmn:task id="Task_Verify_Stock" name="Verify Stock Update in Inventory">
      <bpmn:documentation>
        <bpmn:text>SE-DC Receiving Clerk confirms inventory system properly updated:
        - Check material document in MMBE
        - Verify quantity received in correct temperature zone
        - Confirm quality inspection flag set (if perishable/private-label)
        - Verify lot/batch tracking recorded in system
        - Reconcile with physical inventory in zone
        </bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_009</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_010</bpmn:outgoing>
    </bpmn:task>

    <!-- End Event: Process Complete -->
    <bpmn:endEvent id="EndEvent_Process_Complete" name="Process Complete">
      <bpmn:documentation>
        <bpmn:text>Procurement cycle complete. Perishable goods integrated into SE-DC inventory in appropriate temperature zone and available for store distribution.</bpmn:text>
      </bpmn:documentation>
      <bpmn:incoming>SequenceFlow_010</bpmn:incoming>
    </bpmn:endEvent>

    <!-- Sequence Flows -->
    <bpmn:sequenceFlow id="SequenceFlow_001" name="" sourceRef="StartEvent_Need_Identified" targetRef="Task_Create_PR"/>
    <bpmn:sequenceFlow id="SequenceFlow_002" name="" sourceRef="Task_Create_PR" targetRef="Gateway_PR_Amount"/>
    <bpmn:sequenceFlow id="SequenceFlow_ApprovalStandard" name="&lt;= $25K" sourceRef="Gateway_PR_Amount" targetRef="Task_Standard_Approval"/>
    <bpmn:sequenceFlow id="SequenceFlow_ApprovalThreeTier" name="&gt; $25K (SE-DC Perishables)" sourceRef="Gateway_PR_Amount" targetRef="Task_ThreeTier_Approval"/>
    <bpmn:sequenceFlow id="SequenceFlow_003" name="" sourceRef="Task_Standard_Approval" targetRef="Gateway_MergeApprovals"/>
    <bpmn:sequenceFlow id="SequenceFlow_004" name="" sourceRef="Task_ThreeTier_Approval" targetRef="Gateway_MergeApprovals"/>
    <bpmn:sequenceFlow id="SequenceFlow_005" name="" sourceRef="Gateway_MergeApprovals" targetRef="Task_Convert_PO"/>
    <bpmn:sequenceFlow id="SequenceFlow_006" name="" sourceRef="Task_Convert_PO" targetRef="Task_Send_PO"/>
    <bpmn:sequenceFlow id="SequenceFlow_007" name="" sourceRef="Task_Send_PO" targetRef="IntermediateEvent_Goods_Delivered"/>
    <bpmn:sequenceFlow id="SequenceFlow_008" name="" sourceRef="IntermediateEvent_Goods_Delivered" targetRef="Task_Post_GR"/>
    <bpmn:sequenceFlow id="SequenceFlow_009" name="" sourceRef="Task_Post_GR" targetRef="Task_Verify_Stock"/>
    <bpmn:sequenceFlow id="SequenceFlow_010" name="" sourceRef="Task_Verify_Stock" targetRef="EndEvent_Process_Complete"/>

  </bpmn:process>

  <!-- Collaboration with Swimlanes (Participants) -->
  <bpmn:collaboration id="Collaboration_Purchase_to_Pay_GlobalMart">
    <bpmn:participant id="Participant_Requestor" name="Store/Department Requestor" processRef="Process_Purchase_to_Pay_GlobalMart"/>
    <bpmn:participant id="Participant_PurchasingOfficer" name="Buyer" processRef="Process_Purchase_to_Pay_GlobalMart"/>
    <bpmn:participant id="Participant_Approver" name="Category Manager / VP Supply Chain" processRef="Process_Purchase_to_Pay_GlobalMart"/>
    <bpmn:participant id="Participant_WarehouseClerk" name="Receiving Clerk" processRef="Process_Purchase_to_Pay_GlobalMart"/>
    <bpmn:participant id="Participant_Vendor" name="Supplier" processRef="Process_Purchase_to_Pay_GlobalMart"/>

    <!-- Message Flows Between Participants -->
    <bpmn:messageFlow id="MessageFlow_SendPO" name="Send PO" sourceRef="Task_Send_PO" targetRef="Participant_Vendor"/>
    <bpmn:messageFlow id="MessageFlow_DeliverGoods" name="Deliver Goods" sourceRef="Participant_Vendor" targetRef="Task_Post_GR"/>
    <bpmn:messageFlow id="MessageFlow_ApprovalRequest" name="Approval Required" sourceRef="Task_Create_PR" targetRef="Task_Standard_Approval"/>
    <bpmn:messageFlow id="MessageFlow_ThreeTierApprovalRequest" name="3-Tier Approval Required" sourceRef="Task_Create_PR" targetRef="Task_ThreeTier_Approval"/>
  </bpmn:collaboration>

  <!-- Data Objects for Key Documents -->
  <bpmn:itemDefinition id="ItemDef_PR" structureRef="xsd:string" isCollection="false">
    <bpmn:documentation>
      <bpmn:text>Purchase Requisition document containing:
      - PR number (auto-generated)
      - Store/Department Requestor information
      - Material (SKU) details
      - Quantity in cases, delivery date within 7-day perishable window
      - Temperature zone assignment (Zone-F/Zone-R/Zone-A)
      - Plant: SE-DC
      - Lot/batch tracking requirement (mandatory for perishables at SE-DC)
      - Purchasing group (R-SE or R-NAT only)
      - Cost center
      - Status (draft, submitted, approved, converted)
      </bpmn:text>
    </bpmn:documentation>
  </bpmn:itemDefinition>

  <bpmn:itemDefinition id="ItemDef_PO" structureRef="xsd:string" isCollection="false">
    <bpmn:documentation>
      <bpmn:text>Purchase Order document containing:
      - PO number (auto-generated from PR)
      - Supplier information and regional program compliance verification
      - Line items from PR (SKUs and case quantities)
      - Negotiated terms
      - Delivery schedule (within 7-day perishable window)
      - Temperature zone and lot tracking requirements carried through
      - Perishable goods handling specifications
      - Status (draft, sent, received, invoiced)
      </bpmn:text>
    </bpmn:documentation>
  </bpmn:itemDefinition>

  <bpmn:itemDefinition id="ItemDef_GR" structureRef="xsd:string" isCollection="false">
    <bpmn:documentation>
      <bpmn:text>Goods Receipt document containing:
      - Movement type 101 specification
      - PO reference
      - Quantities received (in cases)
      - Temperature zone assigned (Zone-F/Zone-R/Zone-A)
      - Cold chain verification (temperature readings at dock)
      - Lot/batch numbers recorded for perishables
      - Quality inspection flags for perishables/private-label
      - Material document number (generated)
      - Status (posted, verified, invoiced)
      </bpmn:text>
    </bpmn:documentation>
  </bpmn:itemDefinition>

  <bpmn:itemDefinition id="ItemDef_MatDoc" structureRef="xsd:string" isCollection="false">
    <bpmn:documentation>
      <bpmn:text>Material Document (inventory posting):
      - Document number (10-digit)
      - Material number (SKU)
      - Plant: SE-DC, temperature zone, storage location
      - Quantity posted (in cases)
      - Movement type 101 indicator
      - Lot/batch reference (for perishables)
      - Quality inspection status flag (perishable/private-label indicator)
      - Cold chain verification record
      - Posted timestamp
      </bpmn:text>
    </bpmn:documentation>
  </bpmn:itemDefinition>

  <!-- BPMN Diagram Information -->
  <bpmndi:BPMNDiagram id="Diagram_Purchase_to_Pay_GlobalMart" name="Purchase to Pay Process - GlobalMart SE-DC">
    <bpmndi:BPMNPlane id="Plane_Process_Purchase_to_Pay_GlobalMart" bpmnElement="Process_Purchase_to_Pay_GlobalMart">
      <!-- Start Event -->
      <bpmndi:BPMNShape id="Shape_StartEvent_Need_Identified" bpmnElement="StartEvent_Need_Identified">
        <dc:Bounds x="50" y="200" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Task: Create PR -->
      <bpmndi:BPMNShape id="Shape_Task_Create_PR" bpmnElement="Task_Create_PR">
        <dc:Bounds x="130" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- Gateway: PR Amount Decision -->
      <bpmndi:BPMNShape id="Shape_Gateway_PR_Amount" bpmnElement="Gateway_PR_Amount">
        <dc:Bounds x="280" y="195" width="50" height="50"/>
      </bpmndi:BPMNShape>

      <!-- Task: Standard Approval -->
      <bpmndi:BPMNShape id="Shape_Task_Standard_Approval" bpmnElement="Task_Standard_Approval">
        <dc:Bounds x="380" y="80" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- Task: Three-Tier Approval -->
      <bpmndi:BPMNShape id="Shape_Task_ThreeTier_Approval" bpmnElement="Task_ThreeTier_Approval">
        <dc:Bounds x="380" y="280" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- Gateway: Merge Approvals -->
      <bpmndi:BPMNShape id="Shape_Gateway_MergeApprovals" bpmnElement="Gateway_MergeApprovals">
        <dc:Bounds x="530" y="195" width="50" height="50"/>
      </bpmndi:BPMNShape>

      <!-- Task: Convert PO -->
      <bpmndi:BPMNShape id="Shape_Task_Convert_PO" bpmnElement="Task_Convert_PO">
        <dc:Bounds x="630" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- Task: Send PO -->
      <bpmndi:BPMNShape id="Shape_Task_Send_PO" bpmnElement="Task_Send_PO">
        <dc:Bounds x="780" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- Intermediate Event: Goods Delivered -->
      <bpmndi:BPMNShape id="Shape_IntermediateEvent_Goods_Delivered" bpmnElement="IntermediateEvent_Goods_Delivered">
        <dc:Bounds x="930" y="200" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Task: Post GR -->
      <bpmndi:BPMNShape id="Shape_Task_Post_GR" bpmnElement="Task_Post_GR">
        <dc:Bounds x="1010" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- Task: Verify Stock -->
      <bpmndi:BPMNShape id="Shape_Task_Verify_Stock" bpmnElement="Task_Verify_Stock">
        <dc:Bounds x="1160" y="180" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <!-- End Event -->
      <bpmndi:BPMNShape id="Shape_EndEvent_Process_Complete" bpmnElement="EndEvent_Process_Complete">
        <dc:Bounds x="1310" y="200" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Sequence Flow Connectors -->
      <bpmndi:BPMNEdge id="Edge_SequenceFlow_001" bpmnElement="SequenceFlow_001">
        <di:waypoint x="86" y="218"/>
        <di:waypoint x="130" y="220"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_002" bpmnElement="SequenceFlow_002">
        <di:waypoint x="230" y="220"/>
        <di:waypoint x="280" y="220"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_ApprovalStandard" bpmnElement="SequenceFlow_ApprovalStandard">
        <di:waypoint x="305" y="195"/>
        <di:waypoint x="305" y="120"/>
        <di:waypoint x="380" y="120"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_ApprovalThreeTier" bpmnElement="SequenceFlow_ApprovalThreeTier">
        <di:waypoint x="305" y="245"/>
        <di:waypoint x="305" y="320"/>
        <di:waypoint x="380" y="320"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_003" bpmnElement="SequenceFlow_003">
        <di:waypoint x="480" y="120"/>
        <di:waypoint x="555" y="195"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_004" bpmnElement="SequenceFlow_004">
        <di:waypoint x="480" y="320"/>
        <di:waypoint x="555" y="245"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_005" bpmnElement="SequenceFlow_005">
        <di:waypoint x="580" y="220"/>
        <di:waypoint x="630" y="220"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_006" bpmnElement="SequenceFlow_006">
        <di:waypoint x="730" y="220"/>
        <di:waypoint x="780" y="220"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_007" bpmnElement="SequenceFlow_007">
        <di:waypoint x="880" y="220"/>
        <di:waypoint x="930" y="218"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_008" bpmnElement="SequenceFlow_008">
        <di:waypoint x="966" y="218"/>
        <di:waypoint x="1010" y="220"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_009" bpmnElement="SequenceFlow_009">
        <di:waypoint x="1110" y="220"/>
        <di:waypoint x="1160" y="220"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Edge_SequenceFlow_010" bpmnElement="SequenceFlow_010">
        <di:waypoint x="1260" y="220"/>
        <di:waypoint x="1310" y="218"/>
      </bpmndi:BPMNEdge>

    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>

</bpmn:definitions>
